<div class="todo">
  <div class="todo_header">
    <h1 class="todo_header_title">TODO List</h1>
    <mat-form-field class="example-full-width">
      <mat-label>Filter list</mat-label>
      <label>
        <input matInput placeholder=" " (input)="filterTodosArray($event)">
      </label>
    </mat-form-field>
    <hr>
    <mat-form-field class="example-full-width">
      <mat-label>New Todo</mat-label>
      <label>
        <input matInput placeholder=" " [(ngModel)]="todoText">
      </label>
    </mat-form-field>
    <button mat-raised-button color="primary" (click)="addTodo()">Add Todo</button>
  </div>
  <div class="q">
    <ul>
      <li *ngFor="let todo of todos; let i = index" [class.strikethroughTodo]="todo.checked">
        <label>
          <span *ngIf="editedTodoIndex !== i" (click)="clickTodo(todo); doneTodo(todo)">{{todo.text}}</span>
          <input class="todo_header_input" *ngIf="editedTodoIndex === i" type="text" [ngModel]="todo.text"
                 (ngModelChange)="updateText($event)">
        </label>
        <span><button mat-stroked-button color="primary"
                      (click)="editTodo(i)">{{editedTodoIndex !== i ? 'Edit' : 'Save'}}</button></span>
        <span><button mat-stroked-button color="primary" (click)="deleteTodo(todo)">Delete</button></span>
      </li>
    </ul>
    <mat-form-field class="example-full-width">
      <mat-label>Search Todo</mat-label>
      <label>
        <input matInput placeholder=" " [(ngModel)]="searchText">
      </label>
    </mat-form-field>
    <button mat-stroked-button color="primary" (click)="searchTodo()">Search</button>
    <button mat-stroked-button color="primary" (click)="resetTodo()">Reset</button>
    <ul>
      <li *ngFor="let todo of foundTodos; ">
        {{todo.text}} {{todo._id}}
      </li>
    </ul>
    <hr>
    <input type="file" (change)="fileSelection($event)" placeholder="Upload file..."/>
    <button mat-raised-button color="primary" type="button" [disabled]="!file" (click)="uploadFile(file)">Upload</button>
  </div>
</div>
